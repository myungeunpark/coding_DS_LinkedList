///https://leetcode.com/problems/convert-sorted-array-to-binary-search-tree/
// https://leetcode.com/problems/convert-sorted-list-to-binary-search-tree/
// [1] Method 1 :  Convert ListNode to Array --> build the BinarySearchTree
// [2] Method 2 :  Recursively find the middle node in ListNode --> build BinarySearchTree 

/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) { val = x; }
 * }
 */
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    public TreeNode sortedListToBST(ListNode head) {
        
        if(head == null)
            return null;
        
        ListNode fast = head;
        ListNode slow = head;
        ListNode prev = head;
        
        while((slow != null) && (fast != null) && (fast.next != null)){
            
            fast = fast.next.next;
            prev = slow;
            slow = slow.next;
           
        }
        
        // make root node with middle
        TreeNode mid = new TreeNode(slow.val);
        prev.next = null;
        if(slow != prev){
        
            mid.left = sortedListToBST(head);
            mid.right = sortedListToBST(slow.next);
        }
            
        return mid;    
    }
}
